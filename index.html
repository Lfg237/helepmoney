<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>compte marchand</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(120deg, #f6d365, #fda085);
    margin:0; padding:0;
  }
  .container {
    max-width: 900px;
    margin: 50px auto;
    padding: 20px;
    background: rgba(255,255,255,0.95);
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    animation: fadeIn 1s ease-out;
  }
  h1,h2 { text-align:center; color:#ff5722; text-shadow:1px 1px #ffe0b2; }
  table { width:100%; border-collapse: collapse; margin-bottom:30px; animation: slideIn 1s ease-out; }
  th,td { padding:12px; text-align:center; border-bottom:1px solid #ddd; }
  th { background:#ff9800; color:white; text-transform:uppercase; }
  tr:nth-child(even){background:#ffe0b2;}
  tr:hover{background:#ffd54f;}
  input, textarea { padding:10px; border-radius:5px; border:2px solid #ff5722; transition:0.3s; }
  input:focus, textarea:focus { border-color:#ff9800; outline:none; }
  button { padding:10px 20px; border:none; border-radius:5px; background:#ff5722; color:white; font-weight:bold; cursor:pointer; transition:0.3s; }
  button:hover { background:#ff9800; }
  .error { color:red; margin-top:10px; }
  .hidden { display:none; }
  .admin-access, .payment-section { text-align:center; margin-bottom:20px; }
  @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
  @keyframes slideIn { from {transform:translateY(50px); opacity:0;} to {transform:translateY(0); opacity:1;} }
</style>
</head>
<body>
<div class="container">
  <h1>üìä helepmoney</h1>

  <!-- Tableau public pour tous -->
  <table>
    <thead>
      <tr>
        <th>Nom Entreprise</th>
        <th>Propri√©taire</th>
        <th>Num√©ro Mobile Money</th>
        <th>Fournisseur</th>
      </tr>
    </thead>
    <tbody id="publicTable"></tbody>
  </table>

  <!-- Acc√®s admin -->
  <div class="admin-access">
    <label for="adminCode">Code Administrateur :</label>
    <input type="password" id="adminCode" placeholder="Entrez le code">
    <button id="accessBtn">Acc√©der</button>
    <p id="accessMsg" class="error"></p>
  </div>

  <!-- Tableau admin cach√© -->
  <div id="adminTableContainer" class="hidden">
    <h2>üìã Tableau Administrateur</h2>
    <table>
      <thead>
        <tr>
          <th>Nom Entreprise</th>
          <th>Propri√©taire</th>
          <th>Num√©ro Mobile Money</th>
          <th>Fournisseur</th>
        </tr>
      </thead>
      <tbody id="adminTable"></tbody>
    </table>
  </div>

  <!-- Paiement utilisateur -->
  <div class="payment-section">
    <h2>Paiement Mobile Money</h2>
    <p>Collez le message re√ßu apr√®s votre paiement :</p>
    <textarea id="inputPaiement" rows="4" placeholder="Collez le message Mobile Money"></textarea>
    <button id="verifPaiementBtn">Valider le paiement</button>
  </div>
</div>

<script>
  const ADMIN_CODE = "233233";

  // Liste des abonn√©s (public et admin)
  const abonn√©s = [
    { entreprise:"FACILITATEURS", proprietaire:"Jean Dupont", numero:"655123456", fournisseur:"Orange Money", montant:"2000", id:"123456" },
    { entreprise:"TECH SOLUTIONS", proprietaire:"LOVELINE KINYUY WIRNKAR", numero:"676353859", fournisseur:"MTN MoMo", montant:"50", id:"654321" },
    { entreprise:"ABC ENTERPRISE", proprietaire:"Paul Etoundi", numero:"699112233", fournisseur:"Orange Money", montant:"2500", id:"987654" }
  ];

  // Affichage public
  const publicTable = document.getElementById("publicTable");
  abonn√©s.forEach(a => {
    const row = document.createElement("tr");
    row.innerHTML = `<td>${a.entreprise}</td><td>${a.proprietaire}</td><td>${a.numero}</td><td>${a.fournisseur}</td>`;
    publicTable.appendChild(row);
  });

  // Acc√®s admin
  const accessBtn = document.getElementById("accessBtn");
  const adminCodeInput = document.getElementById("adminCode");
  const accessMsg = document.getElementById("accessMsg");
  const adminTableContainer = document.getElementById("adminTableContainer");
  const adminTable = document.getElementById("adminTable");

  accessBtn.addEventListener("click", () => {
    const code = adminCodeInput.value.trim();
    if(code === ADMIN_CODE){
      accessMsg.textContent = "Acc√®s Admin valid√© !";
      accessMsg.style.color = "green";
      adminTableContainer.classList.remove("hidden");
      // Remplir tableau admin
      adminTable.innerHTML = "";
      abonn√©s.forEach(a => {
        const row = document.createElement("tr");
        row.innerHTML = `<td>${a.entreprise}</td><td>${a.proprietaire}</td><td>${a.numero}</td><td>${a.fournisseur}</td>`;
        adminTable.appendChild(row);
      });
    } else {
      accessMsg.textContent = "Code incorrect !";
      accessMsg.style.color = "red";
      adminTableContainer.classList.add("hidden");
    }
  });

  // Paiement utilisateur
  const verifPaiementBtn = document.getElementById("verifPaiementBtn");
  const inputPaiement = document.getElementById("inputPaiement");

  function verifierMessage(message){
    message = message.toLowerCase();
    // V√©rifie contre chaque abonn√©
    return abonn√©s.some(a =>
      message.includes(a.proprietaire.toLowerCase()) &&
      message.includes(a.numero) &&
      message.includes(a.fournisseur.toLowerCase()) &&
      message.includes(a.montant) &&
      message.includes(a.id)
    );
  }

  verifPaiementBtn.addEventListener("click",()=>{
    const message = inputPaiement.value.trim();
    if(verifierMessage(message)){
      alert("Paiement valid√© ! Redirection automatique...");
      window.location.href="produit.html";
    } else {
      alert("Message invalide ! V√©rifiez vos informations.");
    }
  });
</script>
</body>
</html>